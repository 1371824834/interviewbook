---
search:
    keywords: ['引用', '值']

---

# 当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递? 

# 参考解答

java 中只有值传递，看下面两个例子：

**例1：**

```java
public static void main(String[] args) {
  Cat c1 = new Cat();
  c1.name = "小黑";
  foo(c1);
  System.out.println(c1.name);
}

public static void foo(Cat c2) {
  c2 = new Cat();
  c2.name = "小白";
}
```


过程分析如下：

1. main方法中执行new Cat() 在堆中分配内存（假设地址为0001），初始化name=null，接下来将引用地址0001赋值给main方法中的c1变量

2. 根据c1变量，引用到堆中0001处的Cat对象，修改name=小黑

3. 接下来调用foo方法，将main中c1变量的值（0001），赋值给foo方法中的c2变量，这里是传值，c1和c2分别占用的不同的内存空间。

4. 在foo方法中执行new Cat() 会在堆中新分配一块内存（假设地址为0002），初始化name=null，并将引用地址0002赋值给foo中的c2变量

5. 根据c2变量，引用到堆中0002处的Cat对象，修改name=小白

![](/assets/passbyvalue.png)


6. 返回main方法，这时c1变量仍然引用的是0001，因此打印c1.name还是小黑

---

